---
- name: Configures Ruby development environment
  hosts: localhost
  connection: local
  become: yes
  pre_tasks:
    - name: Install common dependencies
      apt:
        name: ["curl", "wget", "vim", "git", "make", "zip", "unzip"]
        state: present
        update_cache: yes
  roles:
    - role: rvm.ruby
      vars:
        - rvm1_rubies:
            - "ruby-3.1.2"
        - rvm1_bundler_install: true
        - rvm1_install_flags: "--auto-dotfiles"
        - rvm1_install_path: "/usr/local/rvm"
        - rvm1_user: "root"
    - role: geerlingguy.mysql
      vars:
        - mysql_root_password: "root"
